<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Metric types â€¢ yardstick</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../tidyverse-2.css" rel="stylesheet">
<meta property="og:title" content="Metric types">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- google analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-115082821-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">yardstick</a>
        <div class="info">
          <span class="partof">part of <a href="https://github.com/tidymodels">tidymodels</a></span>
          <span class="version version-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/multiclass.html">Multiclass averaging</a>
    </li>
    <li>
      <a href="../articles/metric-types.html">Metric types</a>
    </li>
    <li>
      <a href="../articles/custom-metrics.html">Custom metrics</a>
    </li>
  </ul>
</li>
        <li>
  <a href="https://github.com/tidymodels/yardstick">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="metric-types_files/kePrint-0.0.1/kePrint.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Metric types</h1>
                        <h4 class="author">Davis Vaughan</h4>
            
            <h4 class="date">2018-11-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/yardstick/blob/master/vignettes/metric-types.Rmd"><code>vignettes/metric-types.Rmd</code></a></small>
      <div class="hidden name"><code>metric-types.Rmd</code></div>

    </div>

    
    
<div id="metric-types" class="section level2">
<h2 class="hasAnchor">
<a href="#metric-types" class="anchor"></a>Metric types</h2>
<p>There are three main metric types in <code>yardstick</code>: class, class probability, and numeric. Each type of metric has standardized argument syntax, and all metrics return the same kind of output (a tibble with 3 columns). This standardization allows metrics to easily be grouped together and used with grouped data frames for computing on multiple resamples at once. Below are the three types of metrics, along with the types of the inputs they take.</p>
<ol style="list-style-type: decimal">
<li>
<p><strong>Class metrics</strong> (hard predictions)</p>
<ul>
<li><p><code>truth</code> - factor</p></li>
<li><p><code>estimate</code> - factor</p></li>
</ul>
</li>
<li>
<strong>Class probability metrics</strong> (soft predictions)
<ul>
<li><p><code>truth</code> - factor</p></li>
<li><p><code>estimate / ...</code> - multiple numeric columns containing class probabilities</p></li>
</ul>
</li>
<li>
<p><strong>Numeric metrics</strong></p>
<ul>
<li><p><code>truth</code> - numeric</p></li>
<li><p><code>estimate</code> - numeric</p></li>
</ul>
</li>
</ol>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>In the following example, the <code>hpc_cv</code> data set is used. It contains class probabilities and class predictions for a linear discriminant analysis fit to the HPC data set of Kuhn and Johnson (2013). It is fit with 10 fold cross-validation, and the predictions for all folds are included.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(yardstick)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">data</span>(<span class="st">"hpc_cv"</span>)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">hpc_cv <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(Resample) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co">#&gt; # A tibble: 30 x 7</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">#&gt; # Groups:   Resample [10]</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co">#&gt;    obs   pred     VF      F       M          L Resample</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="co">#&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;   </span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="co">#&gt;  1 VF    VF    0.914 0.0779 0.00848 0.0000199  Fold01  </span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13"><span class="co">#&gt;  2 VF    VF    0.938 0.0571 0.00482 0.0000101  Fold01  </span></a>
<a class="sourceLine" id="cb1-14" data-line-number="14"><span class="co">#&gt;  3 VF    VF    0.947 0.0495 0.00316 0.00000500 Fold01  </span></a>
<a class="sourceLine" id="cb1-15" data-line-number="15"><span class="co">#&gt;  4 VF    VF    0.941 0.0544 0.00441 0.0000123  Fold02  </span></a>
<a class="sourceLine" id="cb1-16" data-line-number="16"><span class="co">#&gt;  5 VF    VF    0.948 0.0483 0.00347 0.00000792 Fold02  </span></a>
<a class="sourceLine" id="cb1-17" data-line-number="17"><span class="co">#&gt;  6 VF    VF    0.958 0.0395 0.00236 0.00000310 Fold02  </span></a>
<a class="sourceLine" id="cb1-18" data-line-number="18"><span class="co">#&gt;  7 VF    VF    0.939 0.0556 0.00513 0.00000790 Fold03  </span></a>
<a class="sourceLine" id="cb1-19" data-line-number="19"><span class="co">#&gt;  8 VF    VF    0.928 0.0642 0.00777 0.0000148  Fold03  </span></a>
<a class="sourceLine" id="cb1-20" data-line-number="20"><span class="co">#&gt;  9 VF    VF    0.927 0.0653 0.00786 0.0000150  Fold03  </span></a>
<a class="sourceLine" id="cb1-21" data-line-number="21"><span class="co">#&gt; 10 VF    VF    0.949 0.0469 0.00398 0.00000935 Fold04  </span></a>
<a class="sourceLine" id="cb1-22" data-line-number="22"><span class="co">#&gt; # ... with 20 more rows</span></a></code></pre></div>
<p>1 metric, 1 resample</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">hpc_cv <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(Resample <span class="op">==</span><span class="st"> "Fold01"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/accuracy.html">accuracy</a></span>(obs, pred)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; # A tibble: 1 x 3</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt;   .metric  .estimator .estimate</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt; 1 accuracy multiclass     0.726</span></a></code></pre></div>
<p>1 metric, 10 resamples</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">hpc_cv <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(Resample) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/accuracy.html">accuracy</a></span>(obs, pred)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt; # A tibble: 10 x 4</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt;    Resample .metric  .estimator .estimate</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;  1 Fold01   accuracy multiclass     0.726</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;  2 Fold02   accuracy multiclass     0.712</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;  3 Fold03   accuracy multiclass     0.758</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;  4 Fold04   accuracy multiclass     0.712</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;  5 Fold05   accuracy multiclass     0.712</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt;  6 Fold06   accuracy multiclass     0.697</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt;  7 Fold07   accuracy multiclass     0.675</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt;  8 Fold08   accuracy multiclass     0.721</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt;  9 Fold09   accuracy multiclass     0.673</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt; 10 Fold10   accuracy multiclass     0.699</span></a></code></pre></div>
<p>2 metrics, 10 resamples</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">class_metrics &lt;-<span class="st"> </span><span class="kw"><a href="../reference/metric_set.html">metric_set</a></span>(accuracy, kap)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">hpc_cv <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(Resample) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="st">  </span><span class="kw">class_metrics</span>(obs, <span class="dt">estimate =</span> pred)</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; # A tibble: 20 x 4</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt;    Resample .metric  .estimator .estimate</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt;  1 Fold01   accuracy multiclass     0.726</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt;  2 Fold02   accuracy multiclass     0.712</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt;  3 Fold03   accuracy multiclass     0.758</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt;  4 Fold04   accuracy multiclass     0.712</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt;  5 Fold05   accuracy multiclass     0.712</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt;  6 Fold06   accuracy multiclass     0.697</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt;  7 Fold07   accuracy multiclass     0.675</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt;  8 Fold08   accuracy multiclass     0.721</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt;  9 Fold09   accuracy multiclass     0.673</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co">#&gt; 10 Fold10   accuracy multiclass     0.699</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="co">#&gt; 11 Fold01   kap      multiclass     0.533</span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="co">#&gt; 12 Fold02   kap      multiclass     0.512</span></a>
<a class="sourceLine" id="cb4-21" data-line-number="21"><span class="co">#&gt; 13 Fold03   kap      multiclass     0.594</span></a>
<a class="sourceLine" id="cb4-22" data-line-number="22"><span class="co">#&gt; 14 Fold04   kap      multiclass     0.511</span></a>
<a class="sourceLine" id="cb4-23" data-line-number="23"><span class="co">#&gt; 15 Fold05   kap      multiclass     0.514</span></a>
<a class="sourceLine" id="cb4-24" data-line-number="24"><span class="co">#&gt; 16 Fold06   kap      multiclass     0.486</span></a>
<a class="sourceLine" id="cb4-25" data-line-number="25"><span class="co">#&gt; 17 Fold07   kap      multiclass     0.454</span></a>
<a class="sourceLine" id="cb4-26" data-line-number="26"><span class="co">#&gt; 18 Fold08   kap      multiclass     0.531</span></a>
<a class="sourceLine" id="cb4-27" data-line-number="27"><span class="co">#&gt; 19 Fold09   kap      multiclass     0.454</span></a>
<a class="sourceLine" id="cb4-28" data-line-number="28"><span class="co">#&gt; 20 Fold10   kap      multiclass     0.492</span></a></code></pre></div>
</div>
<div id="metrics" class="section level2">
<h2 class="hasAnchor">
<a href="#metrics" class="anchor"></a>Metrics</h2>
<p>Below is a table of all of the metrics available in <code>yardstick</code>, grouped by type.</p>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
type
</th>
<th style="text-align:left;">
metric
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;vertical-align: middle !important;" rowspan="13">
class
</td>
<td style="text-align:left;">
<code><a href="../reference/accuracy.html">accuracy()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/bal_accuracy.html">bal_accuracy()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/detection_prevalence.html">detection_prevalence()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/f_meas.html">f_meas()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/j_index.html">j_index()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/kap.html">kap()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/mcc.html">mcc()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/npv.html">npv()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/ppv.html">ppv()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/precision.html">precision()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/recall.html">recall()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/sens.html">sens()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/spec.html">spec()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: middle !important;" rowspan="4">
class prob
</td>
<td style="text-align:left;">
<code><a href="../reference/gain_capture.html">gain_capture()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/mn_log_loss.html">mn_log_loss()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/pr_auc.html">pr_auc()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/roc_auc.html">roc_auc()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: middle !important;" rowspan="8">
numeric
</td>
<td style="text-align:left;">
<code><a href="../reference/ccc.html">ccc()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/mae.html">mae()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/mape.html">mape()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/rmse.html">rmse()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/rpd.html">rpd()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/rpiq.html">rpiq()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/rsq.html">rsq()</a></code>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/rsq_trad.html">rsq_trad()</a></code>
</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#metric-types">Metric types</a></li>
      <li><a href="#example">Example</a></li>
      <li><a href="#metrics">Metrics</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="tidyverse">
  <p>yardstick is a part of the <strong>tidymodels</strong> ecosystem, a collection of modeling packages designed with common APIs and a shared philosophy.</p>
</div>

<div class="author">
  <p>
    Developed by Max Kuhn, Davis Vaughan.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>
      </footer>
</div>

  

  </body>
</html>
